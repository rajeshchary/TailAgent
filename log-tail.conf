# Log Tail Agent Configuration
# Configure this file for each server

# MySQL Database Configuration (Existing Setup)
MYSQL_HOST="localhost"          # Central MySQL server hostname/IP
MYSQL_PORT="3306"                         # MySQL port
MYSQL_USER="capi"                     # MySQL username for log ingestion
MYSQL_PASS="ivr#0987"         # MySQL password
MYSQL_DB="app_logs"               # Existing database name
MYSQL_TABLE="error_logs"                  # Existing table name

# Server Configuration
SERVER_NAME="web-server-01"               # Unique identifier for this server
LOG_FILE="/var/log/application/app.log"   # Path to application log file to monitor

# Performance Settings
BATCH_SIZE="100"                          # Number of log entries to batch before MySQL insert
FLUSH_INTERVAL="30"                       # Force flush every N seconds (even if batch not full)

# Log Filtering
ERROR_PATTERN="ERROR|FATAL|CRITICAL"      # Regex pattern to match error lines (case insensitive)

# ========================================
# Server-Specific Configuration Examples:
# ========================================

# High Volume Web Server:
# SERVER_NAME="prod-web-01"
# LOG_FILE="/opt/webapp/logs/application.log"
# BATCH_SIZE="300"
# FLUSH_INTERVAL="15"
# ERROR_PATTERN="ERROR|FATAL|CRITICAL|Exception"

# API Server:
# SERVER_NAME="api-server-02"
# LOG_FILE="/var/log/api/api.log"
# BATCH_SIZE="150"
# FLUSH_INTERVAL="20"
# ERROR_PATTERN="ERROR|FATAL|HTTP 5[0-9][0-9]"

# Database Server:
# SERVER_NAME="db-server-01"
# LOG_FILE="/var/log/mysql/error.log"
# BATCH_SIZE="50"
# FLUSH_INTERVAL="45"
# ERROR_PATTERN="ERROR|Warning|InnoDB"

# Background Worker/Queue Server:
# SERVER_NAME="worker-01"
# LOG_FILE="/var/log/worker/worker.log"
# BATCH_SIZE="75"
# FLUSH_INTERVAL="60"
# ERROR_PATTERN="ERROR|FAILED|Exception"

# Development Server:
# SERVER_NAME="dev-server-01"
# LOG_FILE="/var/log/app/debug.log"
# BATCH_SIZE="25"
# FLUSH_INTERVAL="120"
# ERROR_PATTERN="ERROR|FATAL"